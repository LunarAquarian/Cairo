<!-- Polymer dependencies -->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../../bower_components/marked-element/marked-element.html">
<link rel="import" href="../../bower_components/app-storage/app-indexeddb-mirror/app-indexeddb-mirror.html">

<dom-module id="pwa-15-summary">
  <template>
    <style is="custom-style">
       :host {
        display: block;
      }
      #artdet{
        padding:5px;
      }
    </style>
    <!--
    <firebase-document
      path="/articles/[[articleId]]/title"
      data="{{title}}"
    ></firebase-document>-->
    <firebase-document user="{{user}}" path="/articles/[[articleId]]/title" data="{{titleLive}}"></firebase-document>

    <app-indexeddb-mirror key="article-summary-[[articleId]]" data="{{titleLive}}" persisted-data="{{title}}">
    </app-indexeddb-mirror>


    <template is="dom-if" if="[[title]]">
      <div id="artdet">
        <h2>
          [[title]]
        </h2>

        <a href="/view/[[articleId]]">
          <paper-button raised>Read</paper-button>
        </a>
        <!--<template is="dom-if" if="[[user]]">-->
          <a href="/edit/[[articleId]]">
            <paper-button raised>Edit</paper-button>
          </a>
      </div>
        <!--</template>-->
      <hr id ="hr">
    </template>
  </template>

  <script>
    Polymer({
      is: 'pwa-15-summary'
    });
  </script>
</dom-module>